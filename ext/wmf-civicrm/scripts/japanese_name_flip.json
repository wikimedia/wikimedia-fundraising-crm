{
  "join":
  [
    [
      "ContactNamePairFamily AS contact_name_pair_family",
      "INNER",
      ["first_name","=","contact_name_pair_family.name_b"]
    ],
    [
      "ContactNamePairFamily AS Contact_ContactNamePairFamily_name_b_02",
      "EXCLUDE",
      [
        "Contact_ContactNamePairFamily_name_b_02.name_b",
        "=",
        "last_name"
      ]
    ]
  ],
  "where":
  [
    ["preferred_language","=","ja_JP"]
  ],
  "chain":
  {
    "flip":
    ["Contact","update",
      {
        "where":
        [
          ["id","=","$id"]
        ],
        "values":
        {
          "first_name":"$last_name","last_name":"$first_name"
        }
      }
    ]
  },
  "checkPermissions": false,
  "version":4,
  "limit":50
}
